<%= form_tag({:controller => "counselings", :action => params[:action]}, {:method => :get}) do %>
   <div class="flex">
     <div class="md:grid-cols-8 flex-1">
          <fieldset class="border-solid border-gray-300 rounded p-5 mt-3 mb-6 bg-green-100 rounded-lg">
          <legend class="text-sm text-black text-bold text-md rounded-md rounded-full border-2  px-8 py-1 h-8 bg-green-200" style="border-color:#a7f3d0;" >検索条件</legend>

          <div class="flex flex-wrap " >
   
          <div class=" col-span-4 w-full " style="max-width:85%;flex:85%;" >
          <div class="flex flex-wrap justify-between">  
          <div class="flex flex-wrap w-full items-center mr-2 mb-3">
             <%= label_tag "患者番号", nil,class: "mt-3 md:col-span-1 block text-sm font-medium text-gray-700 mr-2" %>
             <%= search_field_tag :patient_number1, "", value: params[:patient_number1], class:"w-40 md:col-span-1 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block shadow-sm sm:text-sm border-gray-300 rounded-md" %>
             <span class="mx-4" style="margin:0 10px" >~</span> 
             <%= search_field_tag :patient_number2, "", value: params[:patient_number2], class:"w-40 md:col-span-1 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block shadow-sm sm:text-sm border-gray-300 rounded-md"%>
            </div>     
          <div class="flex flex-wrap w-full items-center" style="max-width:47%;flex:47%;" >
             <%= label_tag "患者氏名", nil,class: "mt-3 md:col-span-1 block text-sm font-medium text-gray-700 mr-6 "  %>
             <%= search_field_tag :patient_name, "", value: params[:patient_name], class:"w-[calc(100%-190px)]  md:col-span-2 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block shadow-sm sm:text-sm border-gray-300 rounded-md "%>
           </div>

           <div class="flex  w-full items-center justify-end" style="max-width:53%;flex:53%;" >
           <span class="label w-full" style="max-width: 140px;"  >
           <%= label_tag "集計期間", nil,class: "  mr-2 md:col-span-1 block text-sm font-medium text-gray-700 w-full" %>
           </span>
            <div class="relative">
              <%= text_field_tag :aggregation_period1,"", value: params[:aggregation_period1], autocomplete: "off", class:"w-40 datepicker bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-40", placeholder:"yyyy/mm/dd" %>
              <div class="flex absolute inset-y-0 right-2 items-center pl-0 pointer-events-none">
                <svg class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>
              </div>
            </div>
            <span class="mx-1" >~</span> 
            <div class="relative">
              <%= text_field_tag :aggregation_period2,"", value: params[:aggregation_period2], autocomplete: "off", class:" datepicker bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-40", placeholder:"yyyy/mm/dd" %>
              <div class="flex absolute inset-y-0 right-2 items-center pl-0 pointer-events-none">
                <svg class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>
              </div>
            </div>

           </div>
       
            </div>
        </div>
          <div class="contract_list_btn_sec" style="max-width:15%;flex:15%;">
            <div class="flex">
              <div class="col-span-5 w-full mt-16 ml-5 flex gap-2 justify-end relative" style="top:-6px;" >
                <%= submit_tag("検索", :id=>"button", :class=>"cursor-pointer col-span-1 active items-center px-4 py-1 border border-transparent  font-small rounded-md shadow-xl text-white bg-[#43c17a] hover:bg-green-500", :name=>"submit") %>
                <% if params[:action] == "index" %>
                  <%= link_to "リセット", counselings_path, :class=>"col-span-1 active items-center px-4 py-1 border border-transparent  font-small rounded-md shadow-xl text-white bg-red-500 hover:bg-red-400" %>
                <% else %>
                  <%= link_to "リセット", "/#{params[:controller]}/#{params[:action]}", :class=>"col-span-1 active items-center px-4 py-1 border border-transparent  font-small rounded-md shadow-xl text-white bg-red-500 hover:bg-red-400" %>
                <% end %>    
              </div>     
            </div>
          </div>
        </div>     
          </fieldset>
      </div>
<% end %>


<style>
@media only screen and (max-width:1440px){
main.flex-1.pb-8.ml-72.mr-8.h-screen main.flex-1.pb-8.h-screen form .md\:grid-cols-8.flex-1 fieldset.border-solid.border-gray-300.rounded.p-5.mt-3.mb-6.bg-green-100.rounded-lg .flex.flex-wrap {
    flex-wrap: wrap;
}
main.flex-1.pb-8.ml-72.mr-8.h-screen main.flex-1.pb-8.h-screen form .md\:grid-cols-8.flex-1 fieldset.border-solid.border-gray-300.rounded.p-5.mt-3.mb-6.bg-green-100.rounded-lg .flex.flex-wrap .col-span-4.w-full {
    width: 100%;
    max-width: 100%! important;
    flex: 0 0 100%! important;
}
main.flex-1.pb-8.ml-72.mr-8.h-screen main.flex-1.pb-8.h-screen form .md\:grid-cols-8.flex-1 fieldset.border-solid.border-gray-300.rounded.p-5.mt-3.mb-6.bg-green-100.rounded-lg .flex.flex-wrap .contract_list_btn_sec {
    max-width: 100%! important;
    flex: 100%! important;

}
main.flex-1.pb-8.ml-72.mr-8.h-screen main.flex-1.pb-8.h-screen form .md\:grid-cols-8.flex-1 fieldset.border-solid.border-gray-300.rounded.p-5.mt-3.mb-6.bg-green-100.rounded-lg .flex.flex-wrap .contract_list_btn_sec .flex .col-span-5.w-full.mt-16.ml-5.flex.gap-2.justify-end.relative {

    margin-top: 35px;
}
}
</style>