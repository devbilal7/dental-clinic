<div class="mx-auto mt-5 p-5">
    <span class="remove-popup absolute top-0 right-0 px-4 py-3">
        <svg class="remove-popup fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
    </span>
    
    <%= form_with(model: @user, url: admin_update_registrations_path(id: @user.id), class: "contents bg-white mt-5 shadow") do |form| %>

        <%= form.hidden_field :role,value: params[:role] , id: "role"%>    
        <div class="border border-solid border-gray-300 mb-5">
                <div class="w-full bg-gray-100 p-3">
                    <%= t("patient.Usage Classification") %>
                </div>
            <fieldset class="p-3 bg-white">

                <div class="my-5 d-flex">        
                        <div class="flex flex-wrap">
                            <div class="flex items-center w-32">
                            <%= t("patient.User Code") %>
                        </div>
                        <div class=" col-span-4">
                            <%= form.text_field :user_no,value: @user.id,disabled: true, class: "shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-65  " %>
                        </div>
                        </div>
                </div>

                <div class="my-5 d-flex">        
                        <div class="flex flex-wrap">
                            <div class="flex items-center w-32">
                            <%= t("patient.Full Name") %>
                        </div>
                        <div class=" col-span-4">
                            <%= form.text_field :first_name, class: "shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-65  " %>
                            <%= form.text_field :last_name, class: "shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-65" %>
                        </div>
                        </div>
                </div>

                <div class="my-5 d-flex">        
                        <div class="flex flex-wrap">
                            <div class="flex items-center w-32">
                            <%= t("patient.Kana Name") %>
                        </div>
                        <div class=" col-span-4">
                            <%= form.text_field :kana_first_name, class: "shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-65  " %>
                            <%= form.text_field :kana_last_name, class: "shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-65" %>
                        </div>
                        </div>
                </div>
            </fieldset>
        </div>
                    
        <!-- ID/Password -->
        <div class="border border-solid border-gray-300 mb-5 ">
                <div class="w-full bg-gray-100 p-3">
                    <%= t("patient.ID / Password") %>
                </div>
            <fieldset class="p-3 bg-white">

                <div class="my-5 d-flex">        
                    <div class="flex flex-wrap">
                        <div class="flex items-center w-32">
                        <%= t("patient.Authority") %>
                    </div>
                    <div class=" col-span-4">
                        <%= form.select :role, User.roles.keys, {:include_blank => "Select"},class:"bg-teal p-3 rounded text-black shadow-inner w-full" %>
                        <% @user.errors.full_messages_for(:role).each do |message| %>
                            <div class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3"><%= message %></div>
                        <% end %>
                    </div>
                    </div>
                </div>

                <div class="my-5 d-flex">        
                    <div class="flex flex-wrap">
                        <div class="flex items-center w-32">
                        <%= t("patient.ID") %>
                    </div>
                    <div class=" col-span-4">
                        <div class="my-5">
                            <%= form.email_field :email, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full" %>
                            <% @user.errors.full_messages_for(:email).each do |message| %>
                                <div class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3"><%= message %></div>
                            <% end %>
                        </div>
                    </div>
                    </div>
                </div>

                <div class="my-5 d-flex">        
                    <div class="flex flex-wrap">
                        <div class="flex items-center w-32">
                        <%= t("patient.Password") %>
                    </div>
                    <div class=" col-span-4">
                        <%= form.password_field :password, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full" %>
                        <% @user.errors.full_messages_for(:password).each do |message| %>
                            <div class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3"><%= message %></div>
                        <% end %> 
                    </div>
                    </div>
                </div>

                <div class="my-5 d-flex">        
                    <div class="flex flex-wrap">
                        <div class="flex items-center w-32">
                        <%= t("patient.Password Confirmation") %>
                    </div>
                    <div class=" col-span-4">
                        <%= form.password_field :password_confirmation, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full" %>
                        <% @user.errors.full_messages_for(:password_confirmation).each do |message| %>
                            <div class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3"><%= message %></div>
                        <% end %>
                    </div>
                    </div>
                </div>
            </fieldset>
        </div>

        <div class="border border-solid border-gray-300 mb-5 ">
                <div class="w-full bg-gray-100 p-3">
                    <%= t("patient.Usage Classification") %>
                </div>
            <fieldset class="p-3">
                <div class="my-5 d-flex">        
                    <div class="flex flex-wrap">
                        <div class="flex items-center w-32">
                        <%= t("patient.Usage Classification") %>
                    </div>
                    <div class=" col-span-4">
                        <%= form.select :usage_classification, User.usages.keys, {:include_blank => "Select"},class:"bg-teal p-3 rounded text-black shadow-inner w-full" %>
                        <% @user.errors.full_messages_for(:usage_classification).each do |message| %>
                            <div class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3"><%= message %></div>
                        <% end %>
                    </div>
                    </div>
                </div>
            </fieldset>
        </div>

        <div class="inline">
            <%= form.submit "Edit User", class: "rounded-lg py-3 px-5 bg-blue-600 text-white inline-block font-medium cursor-pointer"%>
        </div>
    <% end %>
</div>
<script>
  $(".remove-popup").click(() => {
    $('#edit_popup').removeClass("showPopUp");
  })
</script>

<script>
  $("#erase").on("click",function() {
    $('.fields_values').val("")
  })
</script>